<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KnifeControl — DEBUG SELF (POST no mesmo separador)</title>
  <style>body{font-family:system-ui,Segoe UI,Roboto,Arial;margin:24px} .row{margin:8px 0}</style>
</head>
<body>
  <h2>DEBUG SELF — envia ao Google Forms <em>no mesmo separador</em></h2>
  <p>Use este arquivo se o navegador estiver bloqueando pop‑ups. Após clicar em <b>Enviar</b>, você deve ver a página <b>“Sua resposta foi registrada”</b>. Use o botão <b>Voltar</b> do navegador para retornar.</p>

  <div class="row"><label>Tipo de Ação: <input id="tipo" value="Retirada"/></label></div>
  <div class="row"><label>Matrícula: <input id="mat" value="10000"/></label></div>
  <div class="row"><label>Objeto: <input id="obj" value="FACA TESTE"/></label></div>
  <div class="row"><button onclick="enviar()">Enviar</button></div>

  <form id="f" method="POST" action="https://docs.google.com/forms/d/e/1FAIpQLScKBnRZ2StGX5qIqGVPrsXbt-hTbTawDYWqR3iEELCq9of7Xw/formResponse" target="_self" style="display:none"></form>

  <script>
  const FIELDS = { tipo:'entry.2075298705', mat:'entry.360956002', obj:'entry.587663124' };
  function enviar(){
    const tipo = document.getElementById('tipo').value.trim();
    const mat  = document.getElementById('mat').value.trim();
    const obj  = document.getElementById('obj').value.trim();
    const f = document.getElementById('f');
    f.innerHTML = '';
    const add=(n,v)=>{ const i=document.createElement('input'); i.type='hidden'; i.name=n; i.value=v; f.appendChild(i); };
    add(FIELDS.tipo, tipo); add(FIELDS.mat, mat); add(FIELDS.obj, obj);
    add('submit','Submit');
    f.submit();
  }
  </script>
</body>
</html>
